# 接口测试:项目测试


## API文档分析

### API文档解析：

#### href节点：

##### 作用
href节：为资源的请求地址；-(请求资源集合时的请求地址要与**href相符**)  "href":" http://127.0.0.1:8000/api/departments/"
##### items节点：
作用：为服务器响应数据时返回的资源属性；(请求接口时，返回的资源属性要与items里的属性相符)
#####  Links节点：
作用：为在当下资源下能连接到的直属下一资源；(比如：A资源直接包含或关联着B、C两个资源，如果访问到A资源时，Links应定为到B和C)
##### templates节点：
作用：为新增和更新资源时所需要的属性；(新增和更新资源时所需要的JSON报文属性)
##### queries节点：
作用：为资源支持的查询列表参数名和查询条件；(资源支持哪些属性可以list查询;支持做查询条件的属性)   

##### error节点作用说明：
作用：出现错误时，返回的报文格式和属性；(如果请求资源有误，在响应数据时应在error节内体现) 
## 接口功能脚本设计
###  配置元件分析
1. HTTP信息头管理器
2. HTTP请求默认值
3. CSV Data Set Config

### 请求方法
1. 查询使用方法(GET)
2. 新增使用方法(POST)
3. 更新使用方法(PUT)
4. 删除使用方法(DELETE)

### 其他
1. 参数文件使用Nodepad++ UTF-8无BOM格式
2. 每个接口为一个线程组,例如：(查询所有、查询指定、新增、更新、删除)

## 接口用例设计
### 用例设计原则
1. 覆盖所有的必选参数
2. 组合可选参数
3. 参数边界值
4. 如果参数的取值范围是枚举变量，需要覆盖所有枚举值    
5. 空数据
6. 包含特殊的字符
7. 越界的数据
8. 错误的数据    
2. 用例格式
用例编号	用例名称	方法	测试步骤	预期结果	是否通过	备注
### 用例实现示例：
####  查询
##### 查询指定-正向
1. 传入参数（格式正确且存在）
2. 传入参数（格式正确）  

##### 查询-逆向
1. 校验-为空
2. 校验-格式不正确  

##### 查询List 正向
1. list参数全部存在且格式正确
2. list有一个以上存在且格式正确  

##### 查询List 逆向
1. list参数都为空
2. list都不存在  

##### 查询-组合 正向
1. 传入全部条件存在且格式正确  
2. 单个条件或部分条件组合（存在且格式正确）
##### 查询-组合 逆向
1. 全部为空
2. 一个以上不存在或格式不正确  
##### 查询-模糊 正向
1. 传入模糊参数或全部参数

#### 新增
##### 新增正向
1. 传入新增全部参数，格式正确
2. 传入新增必填参数，其他为空  
##### 新增逆向
1. 传入已存在id，唯一不重复字段校验
2. 类型校验（时间日期、布尔、指定范围值0/1） 
3. 格式不正确校验 
#### 更新
##### 更新正向
1. 传入更新全部参数，格式正确
2. 软入更新必填参数，其他为空  
##### 更新逆向
1. 传入id不存在
2. 类型校验（时间日期、布尔、指定范围值0/1） 
3. 格式不正确校验
####  删除
##### 删除正向-指定
1. 传入正确ID且存在
##### 删除逆向-指定
1. 传入ID不正确
##### 删除正向-list
1. 传入全部正确id
2. 传入部分正确id
##### 删除逆向
1. 传入全部不存在id
2. 传入id为空

## 设计测试用例中测试数据-参数化

### 目标
给测试用例设计测试数据
### 测试数据分类
正向：(根据测试用例覆盖面设计正向测试数据)
逆向: (根据测试用例覆盖面设计逆向测试数据)
### 正向方法
1. 传入所有可传属性，且格式正确
2. 传入必填属性，且格式正确
### 校验方法
1) 为空校验
2) 为空格校验
3) 前后含空格校验
4) 超长校验
5) 类型校验
6) 含特殊字符校验
7) 删除引用校验
8) 唯一不重复属性校验
